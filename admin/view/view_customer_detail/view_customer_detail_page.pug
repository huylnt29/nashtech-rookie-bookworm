extends ../global_layout.pug

block content   
     div
          div.flex.justify-between.items-center
               i.material-icons.w-8 person
               p.font-bold.text-xl.text-slate-900 #{customer.name}
               div.grow

          div.h-4
          div.flex.items-center
               div.w-2.bg-slate-600.mr-3.rounded-xl ''
               p.font-bold.text-lg.text-gray-600.text-center Primary information
          div.h-3
          div.bg-white.py-3.px-8.shadow-lg.shadow-slate-200.rounded-2xl
               +row_text('id', customer.id)
               +row_text('name', customer.name)
               +row_text('phone', customer.phone)
               +row_text('email', customer.email)
               +row_text('city', customer.city)
               +row_text('district', customer.district)
               +row_text('reached at', customer.createdAt.toLocaleString())
          div.h-8
          div.flex.items-center
               div.w-2.bg-slate-600.mr-3.rounded-xl ''
               p.font-bold.text-lg.text-gray-600.text-center Orders
          div.h-3
          div.bg-white.p-8.shadow-lg.shadow-slate-200.rounded-2xl
               table.table.w-full
                    thead.table-header-group.bg-slate-100
                         tr.table-row
                              th.table-cell.text-left.p-3 ID
                              th.table-cell.text-left BOOK QUANTITY
                              th.table-cell.text-left TOTAL SPENT
                              th.table-cell.text-left PAYMENT METHOD
                              th.table-cell.text-left STATUS  
                    tbody.table-row-group
                         each order in customer.orders
                              tr(class="table-row hover:bg-slate-50 hover:cursor-pointer group")
                                   td.table-cell.p-3(onclick=`navigateToOrderDetailPage(${order.id})`) #{order.id}
                                   td.table-cell(onclick=`navigateToOrderDetailPage(${order.id})`) #{order.totalQuantity}
                                   td.table-cell(onclick=`navigateToOrderDetailPage(${order.id})`) #{order.totalPrice}
                                   td.table-cell(onclick=`navigateToOrderDetailPage(${order.id})`) #{order.paymentMethod}
                                   td.table-cell(onclick=`navigateToOrderDetailPage(${order.id})`) #{order.status}

     script(type='text/javascript').
          const navigateToOrderDetailPage = (id) => location.href = `/order/${id}`
        
